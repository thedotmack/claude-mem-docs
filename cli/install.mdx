---
title: 'install'
description: 'Set up claude-mem integration with Claude Code'
---

## claude-mem install

Sets up the claude-mem integration with Claude Code by installing hooks, configuring the MCP server, and creating necessary directories.

## Synopsis

```bash
claude-mem install [options]
```

## Description

The `install` command performs a complete setup of claude-mem:

1. Creates directory structure at `~/.claude-mem`
2. Installs Claude Code hooks
3. Configures Chroma MCP server
4. Updates Claude Code settings
5. Adds instructions to CLAUDE.md

## Options

| Option | Description | Default |
|--------|-------------|---------|
| `--force` | Overwrite existing installation | `false` |
| `--save-on-clear` | Auto-compress when using `/clear` | `true` |
| `--dir <path>` | Custom installation directory | `~/.claude-mem` |
| `--skip-backup` | Don't backup existing config | `false` |
| `--quiet` | Suppress output | `false` |

## Examples

### Basic Installation

```bash
claude-mem install
```

Output:
```
ðŸ§  Claude Memory System Installer
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ… Creating directories... Done
âœ… Installing hooks... Done (3 hooks)
âœ… Configuring MCP server... Done
âœ… Updating settings... Done
âœ… Adding CLAUDE.md instructions... Done

Installation complete! Restart Claude Code to activate.
```

### Force Reinstall

Overwrites any existing installation:

```bash
claude-mem install --force
```

### Custom Directory

Install to a different location:

```bash
claude-mem install --dir ~/custom/claude-mem
```

### Quiet Mode

Minimal output for scripts:

```bash
claude-mem install --quiet && echo "Success"
```

## What Gets Installed

### Directory Structure

```
~/.claude-mem/
â”œâ”€â”€ index/              # Chroma database
â”œâ”€â”€ archives/           # Compressed transcripts
â”œâ”€â”€ hooks/              # Claude Code hooks
â”‚   â”œâ”€â”€ pre-compact.js
â”‚   â”œâ”€â”€ session-start.js
â”‚   â””â”€â”€ session-end.js
â”œâ”€â”€ trash/              # Deleted items
â”œâ”€â”€ logs/               # Activity logs
â””â”€â”€ settings.json       # Configuration
```

### Claude Code Settings

Updates `~/.claude/claude_code_settings.json`:

```json
{
  "mcpServers": {
    "chromadb-claude-mem": {
      "command": "npx",
      "args": ["@modelcontextprotocol/server-chromadb"]
    }
  }
}
```

### CLAUDE.md Instructions

Adds to `~/.claude/CLAUDE.md`:

```markdown
<!-- CLAUDE-MEM INSTRUCTIONS -->
- Collection name: "claude_memories"
- Use mcp__claude-mem__chroma_query_documents for search
- Compressed archives in ~/.claude-mem/archives/
<!-- /CLAUDE-MEM INSTRUCTIONS -->
```

## Interactive Mode

If run without options, the installer enters interactive mode:

```
ðŸ§  Welcome to claude-mem installer!

? Existing installation detected. What would you like to do?
  â€º Create backup and reinstall
    Skip backup and reinstall
    Cancel

? Enable auto-save on /clear command?
  â€º Yes (recommended)
    No

? Installation directory?
  â€º Use default (~/.claude-mem)
    Custom directory
```

## Backup and Recovery

When an existing installation is detected:

1. Creates timestamped backup
2. Saves to `~/.claude-mem/backups/`
3. Can restore with `claude-mem restore-backup`

Example backup:
```
~/.claude-mem/backups/
â””â”€â”€ backup-2025-09-15T10-30-00/
    â”œâ”€â”€ settings.json
    â”œâ”€â”€ hooks/
    â””â”€â”€ index/
```

## Troubleshooting

### Permission Denied

On macOS/Linux, use sudo:
```bash
sudo npm install -g claude-mem
claude-mem install
```

### Claude Code Not Found

Ensure Claude Code is installed:
```bash
# Check for Claude executable
which claude

# If not found, download from:
# https://claude.ai/code
```

### Hooks Not Working

After installation:
1. Fully quit Claude Code (Cmd+Q / Ctrl+Q)
2. Reopen Claude Code
3. Verify with `claude-mem status`

### MCP Server Issues

Test MCP server directly:
```bash
npx @modelcontextprotocol/server-chromadb
```

If this fails, reinstall:
```bash
npm install -g @modelcontextprotocol/server-chromadb
```

## Post-Installation

After successful installation:

<Steps>
  <Step>
    **Restart Claude Code** - Complete restart required
  </Step>
  <Step>
    **Verify Installation** - Run `claude-mem status`
  </Step>
  <Step>
    **Test Memory** - Start a session and check context loads
  </Step>
</Steps>

## Uninstalling

To remove claude-mem:

```bash
claude-mem uninstall
```

This removes hooks but preserves your memories.

## See Also

- [`status`](/cli/status) - Verify installation
- [`uninstall`](/cli/uninstall) - Remove claude-mem
- [Installation Guide](/installation) - Detailed setup